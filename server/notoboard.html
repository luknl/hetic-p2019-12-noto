<!doctype html>
<html>
  <head>
    <title>Notoboard</title>
    <style>
      form input { border: 1px solid black; padding: 10px; margin-right: .5%; }
      .messages { list-style-type: none; }
    </style>
  </head>
  <body>
    <ul class="messages"></ul>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io()
      const $messages = document.querySelector('.messages')

      // Get all previous message
      socket.on('previous messages', (messages) => {
        $messages.innerHTML = messages.map((message) => `
          <li>${message}</li>
        `).join('')
      })

      // Get last message
      socket.on('chat message', (message) => {
        $messages.innerHTML += `
          <li>${message}</li>>
        `
      })
    </script>
  </body>
</html>
